(()=>{const e=document.querySelector("#location"),t=document.querySelector("form"),n=document.querySelector(".temp span"),o=(document.querySelector(".wind span"),document.querySelector(".weather span"),document.querySelector(".pressure span")),a=document.querySelector(".humidity span");async function r(e){try{const t=await fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=30aa43e809e468d20a5ff0a5e98a95ab",{mode:"cors"}),r=await t.json();!function(e){const t=Math.round(e.temp-273.15);n.textContent=`${t} Â°C`,o.textContent=`${e.pressure} hPa`,a.textContent=`${e.humidity} %`}(s(r)),console.log(r),console.log(s(r))}catch(e){console.log(e)}}function s(e){const t=e.sys.sunrise<e.dt&&e.dt<e.sys.sunset;return{temp:e.main.temp,wind:e.wind.deg,weather:e.weather[0].main,pressure:e.main.pressure,humidity:e.main.humidity,day:t}}r("Santiago"),t.addEventListener("submit",(function(t){t.preventDefault(),r(e.value.replace(/\s+/g,""))}))})();