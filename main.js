(()=>{const e=document.querySelector("#location"),t=document.querySelector("form"),n=document.querySelector(".temp span"),o=document.querySelector(".arrow"),r=document.querySelector(".speed"),a=document.querySelector(".weather img"),c=document.querySelector(".pressure span"),i=document.querySelector(".humidity span");async function s(e){try{const t=await fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=30aa43e809e468d20a5ff0a5e98a95ab",{mode:"cors"}),s=await t.json();!function(e){const t=Math.round(e.temp-273.15);n.textContent=`${t} Â°C`,console.log(e.windDir),console.log(o),o.style.rotate=e.windDir-180+"deg",r.textContent=`${e.windSpeed} m/s`,a.src=`http://openweathermap.org/img/wn/${e.icon}@2x.png`,c.textContent=`${e.pressure} hPa`,i.textContent=`${e.humidity} %`}(d(s)),console.log(s),console.log(d(s))}catch(e){console.log(e)}}function d(e){const t=e.sys.sunrise<e.dt&&e.dt<e.sys.sunset;return{temp:e.main.temp,windDir:e.wind.deg,windSpeed:e.wind.speed,icon:e.weather[0].icon,pressure:e.main.pressure,humidity:e.main.humidity,day:t}}s("Santiago"),t.addEventListener("submit",(function(t){t.preventDefault(),s(e.value.replace(/\s+/g,""))}))})();