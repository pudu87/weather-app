(()=>{const e=document.querySelector("#location"),t=document.querySelector("form"),n=document.querySelector(".temp span"),o=(document.querySelector(".wind span"),document.querySelector(".weather img")),a=document.querySelector(".pressure span"),r=document.querySelector(".humidity span");async function c(e){try{const t=await fetch("http://api.openweathermap.org/data/2.5/weather?q="+e+"&appid=30aa43e809e468d20a5ff0a5e98a95ab",{mode:"cors"}),c=await t.json();!function(e){const t=Math.round(e.temp-273.15);n.textContent=`${t} Â°C`,o.src=`http://openweathermap.org/img/wn/${e.icon}@2x.png`,a.textContent=`${e.pressure} hPa`,r.textContent=`${e.humidity} %`}(s(c)),console.log(c),console.log(s(c))}catch(e){console.log(e)}}function s(e){const t=e.sys.sunrise<e.dt&&e.dt<e.sys.sunset;return{temp:e.main.temp,wind:e.wind.deg,icon:e.weather[0].icon,pressure:e.main.pressure,humidity:e.main.humidity,day:t}}c("Santiago"),t.addEventListener("submit",(function(t){t.preventDefault(),c(e.value.replace(/\s+/g,""))}))})();